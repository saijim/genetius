---
interface Props {
  currentPage?: 'papers' | 'trends' | 'insights' | 'admin';
}

const { currentPage } = Astro.props;

const navItems = [
  { label: 'Papers', path: '/', id: 'papers' },
  { label: 'Trends', path: '/trends', id: 'trends' },
  { label: 'Insights', path: '/insights', id: 'insights' },
];
---

<nav class="navbar py-2">
  <div class="navbar-start gap-2">
    <button
      type="button"
      class="btn btn-soft btn-square btn-sm lg:hidden"
      aria-haspopup="dialog"
      aria-expanded="false"
      aria-controls="mobile-menu-drawer"
      data-overlay="#mobile-menu-drawer"
    >
      <span class="icon-[tabler--menu-2] size-4.5"></span>
    </button>
  </div>

  <div class="navbar-center hidden lg:flex gap-6">
    {navItems.map((item) => (
      <a
        href={item.path}
        class:list={[
          "text-sm font-medium transition-colors",
          currentPage === item.id
            ? "text-primary"
            : "text-base-content hover:text-primary"
        ]}
      >
        {item.label}
      </a>
    ))}
  </div>

  <div class="navbar-end"></div>
</nav>

<div
  id="mobile-menu-drawer"
  class="drawer drawer-start drawer-open:translate-x-0 hidden"
  role="dialog"
  tabindex="-1"
>
  <div class="drawer-dialog w-80">
    <div class="drawer-content p-4">
      <h3 class="mb-4 font-semibold">Navigation</h3>
      <ul class="space-y-2">
        {navItems.map((item) => (
          <li>
            <a
              href={item.path}
              class:list={[
                "flex items-center gap-2 px-3 py-2 rounded-field transition-colors",
                currentPage === item.id
                  ? "bg-primary text-primary-content"
                  : "hover:bg-base-200"
              ]}
            >
              {item.label}
            </a>
          </li>
        ))}
      </ul>
    </div>
  </div>
</div>
